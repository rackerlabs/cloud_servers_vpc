<h1>New User Account</h1>

<div id="user-new-error-messages" class="ui-widget" style="display: none">
    <div class="ui-state-error ui-corner-all" style="padding: .25em .25em .25em 2.5em;">
<p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
<div id="user-new-error-messages-content"></div>
</p>
    </div>
</div>

<script type="text/javascript">

$(document).ready(function() {
    $('input.user_new').keydown(function(e){
        if (e.keyCode == 13) {
            user_create();
            return false;
        }
    });
});

</script>

<%= form_for(@user, :html => { :id => "user-create-form", :onsubmit => "user_create(); return false;"}) do |f| %>

  <p>
    <%= f.label :username %>:<%= f.text_field :username, :class => "user_new" %>
  </p>

  <p>
    <%= f.label :first_name %>:<%= f.text_field :first_name, :class => "user_new" %>
  </p>

  <p>
    <%= f.label :last_name %>:<%= f.text_field :last_name, :class => "user_new" %>
  </p>
<hr/>
  <p>
    <%= f.label :password %>:<%= f.password_field :password, :class => "user_new" %><br />
    <%= f.label :password_confirmation %>:<%= f.password_field :password_confirmation, :class => "user_new" %>
  </p>
<hr/>
<b>API Credentials</b>
  <p>
  <label>Account Type</label>:<input checked="checked" type="radio" name="user[account_attributes][connection_type]" value="rackspace" class="user_new"/>Rackspace / <input type="radio" name="user[account_attributes][connection_type]" value="openstack" class="user_new"/>Openstack<br/><br/>
  <label>Username:</label><br/><input type="text" name="user[account_attributes][username]" size="30" value="" class="user_new"/><br/>
  <label>API Key:</label><br/><input type="text" name="user[account_attributes][api_key]" size="60" value="" class="user_new"/><br />
  <label>API URL(required for OpenStack/optional for Rackspace):</label><br/><input type="text" name="user[account_attributes][auth_url]" size="80" value="" class="user_new"/>
  </p>

<% end %>
